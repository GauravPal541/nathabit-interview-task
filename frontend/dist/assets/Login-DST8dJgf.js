import{u as b,a as v,b as u,r as w,B as y,j as e,h as N,L}from"./index-BkWpiiri.js";import{c as F,a as d,u as q,B as C,T as m,o as E}from"./TextField-DVcaXkNN.js";const S=F({email:d().email("Invalid email").required("Email is Required"),password:d().required("Password is Required")}).required(),k=()=>{var o,r,n,c;const x=b(),[h,{error:s}]=v(),{register:l,formState:{errors:i},handleSubmit:g}=q({resolver:E(S),mode:"all"}),p=u();w.useEffect(()=>{var t,a;s&&y.error((t=s==null?void 0:s.data)!=null&&t.message.includes("Not Found")?"Please register first":(a=s==null?void 0:s.data)==null?void 0:a.message,{position:"top-right",autoClose:2500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})},[s]);const f=async t=>{const a=await h({data:t});if(console.log(t),a.data){const j={isAuth:!0,data:a.data};x(N(j)),setTimeout(()=>{p("/app")},1500)}};return e.jsx("form",{onSubmit:g(f),className:"space-y-4 ",children:e.jsxs(C,{sx:{"& .MuiTextField-root":{m:1,width:"25ch"}},noValidate:!0,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",autoComplete:"off",children:[e.jsx(m,{id:"outlined-email-input",label:"Email",type:"text",...l("email")}),((o=i.email)==null?void 0:o.message)&&e.jsx("p",{style:{color:"red"},children:(r=i.email)==null?void 0:r.message}),e.jsx(m,{id:"outlined-password-input",label:"Password",type:"password",...l("password"),autoComplete:"current-password"}),((n=i.password)==null?void 0:n.message)&&e.jsx("p",{style:{color:"red"},children:(c=i.password)==null?void 0:c.message}),e.jsx("button",{className:"btn btn-primary",type:"submit",children:"Log In"})]})})},I=()=>(u(),e.jsx(e.Fragment,{children:e.jsx("div",{className:"loginwrapper",style:{height:"100vh"},children:e.jsx("div",{className:"lg-inner-column h-full",children:e.jsx("div",{className:"right-column h-full relative",children:e.jsx("div",{className:"inner-content h-full flex flex-col bg-white dark:bg-slate-800",children:e.jsxs("div",{style:{alignItems:"center"},className:"auth-box h-full flex flex-col justify-center",children:[e.jsx("div",{className:"mobile-logo text-center mb-6 block"}),e.jsxs("div",{className:"text-center 2xl:mb-10 mb-4",children:[e.jsx("h4",{className:"font-medium",children:"Sign in"}),e.jsxs("div",{className:"text-slate-500 text-base",children:["Don't have an account? ",e.jsx(L,{style:{outline:"none",textDecoration:"none"},to:"/register",children:"Register Now"})]})]}),e.jsx(k,{})]})})})})})}));export{I as default};
